<div class="header">
    <app-header></app-header>
  </div>
  <div class="content">
    <div class="side-nav">
      <app-sidenav></app-sidenav>
    </div>
    <div class="main">
<div class="profile-info">
  <p style="font-size: 16px; color: #333; font-weight: bold;">
    Chér utilisateur {{ loggedInUser.username }}, vous pouvez modifier vos informations de profil ici.
  </p>
</div>

<!-- Affichage des messages de succès et d'erreur -->
<div *ngIf="successMessage" class="alert alert-success">
    <p>{{ successMessage }}</p>
    <button class="close-btn" (click)="clearMessages()">X</button> <!-- Bouton pour fermer le message -->
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    <p>{{ errorMessage }}</p>
    <button class="close-btn" (click)="clearMessages()">X</button> <!-- Bouton pour fermer le message -->
  </div>
  

<div class="right">
  <div class="header">
  
  </div>
  <div class="signup-container">
    <form [formGroup]="modifform" (ngSubmit)="updateUserProfile()">
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" formControlName="firstName">
        <div *ngIf="modifform.get('firstName')?.invalid && modifform.get('firstName')?.touched" class="error-message">
          First name is required
        </div>
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" formControlName="lastName">
        <div *ngIf="modifform.get('lastName')?.invalid && modifform.get('lastName')?.touched" class="error-message">
          Last name is required
        </div>
      </div>

      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" id="username" formControlName="username">
        <div *ngIf="modifform.get('username')?.invalid && modifform.get('username')?.touched" class="error-message">
          Username is required
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" formControlName="password">
        <p class="static-message">Password must be at least 8 characters long and contain both letters and numbers</p>
        <!-- Messages d'erreur dynamiques ici -->
        <div *ngIf="modifform.get('password')?.invalid && modifform.get('password')?.touched" class="error-message">
          <div *ngIf="modifform.get('password')?.errors?.['required']">Password is required</div>
          <div *ngIf="modifform.get('password')?.errors?.['passwordInvalid']">
            Password must be at least 8 characters long and contain both letters and numbers
          </div>
        </div>
      </div>

      <button type="submit">Modifier</button>
    </form>
  </div>
</div>
</div>